<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Archstone ‚Äî –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="assets/css/main.css">
  <link rel="stylesheet" href="assets/css/knowledge.css">
  <style>
    /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π */
    .tree-node {
      transition: background-color 0.2s;
    }
    .tree-node:hover {
      background-color: #f0f7ff;
    }
    .tree-node.level-1:hover {
      background-color: #f0f7ff;
    }
    .tree-node.level-2 {
      margin-left: 0.5rem;
      font-size: 0.9rem;
      color: #495057;
    }
    .tree-node.level-2 .category-badge {
      font-size: 0.65rem;
      padding: 0.1rem 0.5rem;
    }
    .tree-children {
      border-left: 1px dashed #dee2e6;
      padding-left: 0.5rem;
    }
    
    /* –ê–∫—Ç–∏–≤–Ω—ã–π —É–∑–µ–ª –¥–µ—Ä–µ–≤–∞ */
    .tree-node.active {
      background-color: #e3f2fd;
      color: #1976d2;
      font-weight: 500;
    }
    .tree-node.active i {
      color: #1976d2;
    }
    
    /* –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–æ–≤ */
    .view-toggle-btn.active {
      background: white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      color: #3498db;
    }
    
    /* –í–∏–¥ —Å–ø–∏—Å–∫–æ–º */
    .articles-grid.list-view {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    .articles-grid.list-view .article-card {
      display: flex;
      align-items: center;
      padding: 1rem;
    }
    .articles-grid.list-view .article-header {
      flex: 2;
    }
    .articles-grid.list-view .article-excerpt {
      flex: 3;
      margin: 0 1rem;
    }
    .articles-grid.list-view .article-footer {
      flex: 1;
      justify-content: flex-end;
    }
    
    /* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥ */
    .articles-grid.compact-view {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .articles-grid.compact-view .article-card {
      padding: 0.75rem 1rem;
    }
    .articles-grid.compact-view .article-excerpt {
      display: none;
    }
    .articles-grid.compact-view .article-meta {
      font-size: 0.8rem;
    }
    
    .nav-tabs {
      background: white;
      border-radius: 12px;
      margin-bottom: 2rem;
      border: 1px solid #e9ecef;
      overflow: hidden;
      display: flex;
    }
    
    .nav-tab {
      flex: 1;
      padding: 1rem;
      text-align: center;
      background: #f8f9fa;
      color: #6c757d;
      text-decoration: none;
      transition: all 0.2s;
      font-weight: 500;
    }
    
    .nav-tab.active {
      background: #3498db;
      color: white;
    }
    
    .nav-tab:hover:not(.active) {
      background: #e9ecef;
    }
    
    .back-to-home-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: #3498db;
      text-decoration: none;
      font-weight: 500;
      margin-bottom: 1rem;
    }
    
    .back-to-home-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
<div class="container">

  <!-- –°–∞–π–¥–±–∞—Ä -->
  <aside class="sidebar" id="sidebar">
    <button class="toggle-sidebar-btn" title="–°–≤–µ—Ä–Ω—É—Ç—å/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
        <polyline points="15 18 9 12 15 6"></polyline>
      </svg>
    </button>

    <div class="profile-block">
      <div class="profile-avatar" style="background-image: url('assets/img/user-avatar.jpg');"></div>
      <div class="nav-text logo-text">Archstone</div>
    </div>

    <nav class="mt-6">
      <a href="index.html" class="nav-item">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
          <polyline points="9 22 9 12 15 12 15 22"/>
        </svg>
        <span class="nav-label">–ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</span>
      </a>

      <a href="profile.html" class="nav-item">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
          <circle cx="12" cy="7" r="4"/>
        </svg>
        <span class="nav-label">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</span>
      </a>

      <a href="knowledge-home.html" class="nav-item active">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5z"/>
        </svg>
        <span class="nav-label">–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</span>
      </a>

      <a href="#" class="nav-item">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 11l3 3L22 4"/>
          <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
        </svg>
        <span class="nav-label">–ó–∞–¥–∞—á–∏</span>
      </a>

      <a href="#" class="nav-item">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="4" width="20" height="16" rx="2"/>
          <path d="M7 15h1M7 11h1M16 15h1M16 11h1"/>
        </svg>
        <span class="nav-label">–°—á–µ—Ç–∞</span>
      </a>

      <div class="my-6 border-t border-white/15"></div>

      <a href="settings.html" class="nav-item">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"/>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
        </svg>
        <span class="nav-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</span>
      </a>
    </nav>
  </aside>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <div class="main-content">
    <header class="header">
      <button class="menu-toggle">‚ò∞</button>
      <h1>–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</h1>

      <div style="display:flex; align-items:center; gap:1.25rem;">
        <input type="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –º–æ–¥—É–ª—è–º..." style="width:15rem; padding:0.5rem 1rem; border:1px solid var(--gray-300); border-radius:6px;">

        <div style="position:relative; cursor:pointer;">
          <span style="font-size:1.5rem;">üîî</span>
          <span style="position:absolute; top:-0.4rem; right:-0.4rem; background:var(--red-500); color:white; font-size:0.65rem; font-weight:bold; padding:0.1rem 0.4rem; border-radius:999px;">3</span>
        </div>

        <div style="display:flex; align-items:center; gap:0.75rem; cursor:pointer;">
          <div style="width:2.5rem; height:2.5rem; background:#3b82f6; border-radius:999px; color:white; font-weight:600; display:flex; align-items:center; justify-content:center;">
            <div class="profile-avatar" style="background-image: url('assets/img/ava.jpg');"></div>
          </div>
          <div>
            <div style="font-weight:500;">–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ë–æ–±—Ä–æ–≤</div>
            <div style="font-size:0.875rem; color:var(--gray-500);">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</div>
          </div>
        </div>
      </div>
    </header>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏ -->
    <div class="nav-tabs">
      <a href="knowledge-home.html" class="nav-tab">
        <i class="fas fa-chart-pie" style="margin-right: 0.5rem;"></i> –û–±–∑–æ—Ä
      </a>
      <a href="knowledge-base.html" class="nav-tab active">
        <i class="fas fa-sitemap" style="margin-right: 0.5rem;"></i> –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å—Ç–∞—Ç—å–∏
      </a>
    </div>

    <div class="content-area">
      <div id="knowledge" class="module-section active">
        <!-- –ü–∞–Ω–µ–ª—å –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –æ—Ç–¥–µ–ª–æ–≤ -->
        <div style="background: white; border-radius: 16px; padding: 1rem 1.5rem; margin-bottom: 2rem; box-shadow: 0 4px 15px rgba(0,0,0,0.05); display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1rem;">
          <div style="display: flex; align-items: center; gap: 1.5rem;">
            <span style="font-weight: 600; color: #2c3e50;">üè¢ –û—Ç–¥–µ–ª:</span>
            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
              <button class="dept-switch-btn active" data-dept="development" style="padding:0.5rem 1.2rem; border:none; border-radius:30px; background:#3498db; color:white; font-weight:500; cursor:pointer;">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</button>
              <button class="dept-switch-btn" data-dept="sales" style="padding:0.5rem 1.2rem; border:none; border-radius:30px; background:#f0f7ff; color:#3498db; font-weight:500; cursor:pointer;">–ü—Ä–æ–¥–∞–∂–∏</button>
              <button class="dept-switch-btn" data-dept="support" style="padding:0.5rem 1.2rem; border:none; border-radius:30px; background:#f0f7ff; color:#3498db; font-weight:500; cursor:pointer;">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</button>
              <button class="dept-switch-btn" data-dept="hr" style="padding:0.5rem 1.2rem; border:none; border-radius:30px; background:#f0f7ff; color:#3498db; font-weight:500; cursor:pointer;">HR</button>
              <button class="dept-switch-btn" data-dept="marketing" style="padding:0.5rem 1.2rem; border:none; border-radius:30px; background:#f0f7ff; color:#3498db; font-weight:500; cursor:pointer;">–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥</button>
            </div>
          </div>
          <div style="color:#6c757d; font-size:0.9rem;">
            <i class="fas fa-sync-alt"></i> –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è
          </div>
        </div>
      
        
        <div class="search-container">
          <div class="search-box">
            <input type="text" id="knowledge-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π...">
            <div class="search-icon"><i class="fas fa-search"></i></div>
          </div>
          <button id="toggle-filters-btn" class="btn btn-secondary"><i class="fas fa-filter"></i> –§–∏–ª—å—Ç—Ä—ã</button>
          <button class="btn btn-primary" id="create-article-btn">
            <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é
          </button>
        </div>

        <div class="filters" id="filters-panel">
          <select class="filter-select" id="filter-category">
            <option>–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
            <option>–ü—Ä–æ—Ü–µ–¥—É—Ä—ã</option>
            <option>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞</option>
            <option>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</option>
            <option>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏</option>
            <option>–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</option>
          </select>

          <select class="filter-select" id="filter-sort">
            <option>–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
            <option>–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
            <option>–ü–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏</option>
            <option>–ü–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏</option>
          </select>

          <select class="filter-select" id="filter-status">
            <option>–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
            <option>–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ</option>
            <option>–ß–µ—Ä–Ω–æ–≤–∏–∫</option>
            <option>–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ</option>
          </select>

          <select class="filter-select" id="filter-author">
            <option>–í—Å–µ –∞–≤—Ç–æ—Ä—ã</option>
            <option>–ü–µ—Ç—Ä–æ–≤ –ê.–í.</option>
            <option>–°–∏–¥–æ—Ä–æ–≤–∞ –ï.–ö.</option>
            <option>–ö—É–∑–Ω–µ—Ü–æ–≤ –ò.–°.</option>
            <option>–í–∞—Å–∏–ª—å–µ–≤ –ü.–ú.</option>
            <option>–ù–æ–≤–∏–∫–æ–≤–∞ –û.–õ.</option>
            <option>–§–µ–¥–æ—Ä–æ–≤ –°.–ê.</option>
          </select>

          <div class="filter-date-range">
            <label>–ü–µ—Ä–∏–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è:</label>
            <div class="date-inputs">
              <input type="date" id="filter-date-from" placeholder="–û—Ç">
              <span>‚Äî</span>
              <input type="date" id="filter-date-to" placeholder="–î–æ">
            </div>
          </div>

          <select class="filter-select" id="filter-tags" size="4">
            <option>–æ–±—É—á–µ–Ω–∏–µ</option>
            <option>–ø—Ä–æ—Ü–µ–¥—É—Ä—ã</option>
            <option>—Ç–µ—Ö–Ω–∏–∫–∞</option>
            <option>–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</option>
            <option>–æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å</option>
            <option>–ø—Ä–æ–≥—Ä–∞–º–º—ã</option>
            <option>–∫–ª–∏–µ–Ω—Ç—ã</option>
            <option>CRM</option>
          </select>

          <select class="filter-select" id="filter-access">
            <option>–í—Å–µ</option>
            <option>–ü—É–±–ª–∏—á–Ω—ã–µ</option>
            <option>–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ</option>
          </select>

          <button class="btn btn-primary" id="apply-filters">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
          <button class="btn btn-secondary" id="reset-filters">–°–±—Ä–æ—Å</button>
        </div>

        <div class="knowledge-layout" style="display: flex; gap: 1.5rem; margin-top: 2rem;">
          
          <!-- –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê: –î–†–ï–í–û –ö–ê–¢–ï–ì–û–†–ò–ô -->
          <aside class="knowledge-tree-sidebar" style="flex: 0 0 320px; background: white; border-radius: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); padding: 1.5rem; height: fit-content; position: sticky; top: 1rem;">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–∞–π–¥–±–∞—Ä–∞ -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
              <h3 style="font-size: 1.1rem; color: #2c3e50; margin: 0;">
                <i class="fas fa-sitemap" style="color: #3498db; margin-right: 0.5rem;"></i>
                –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ç–¥–µ–ª–∞
              </h3>
              <button id="expand-all-tree" class="btn btn-secondary btn-sm" style="padding: 0.25rem 0.75rem; font-size: 0.8rem;" title="–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë">
                <i class="fas fa-expand-alt"></i>
              </button>
            </div>
            
            <!-- –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
            <div style="margin-bottom: 1.5rem; position: relative;">
              <input type="text" id="category-search" placeholder="–ü–æ–∏—Å–∫ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö..." style="width: 100%; padding: 0.75rem 1rem 0.75rem 2.5rem; border: 1px solid #e9ecef; border-radius: 30px; font-size: 0.9rem; background: #f8f9fa;">
              <i class="fas fa-search" style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: #6c757d; font-size: 0.9rem;"></i>
            </div>
            
            <!-- –î–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
            <div class="category-tree">
              
              <!-- –£–†–û–í–ï–ù–¨ 1: –ö–∞—Ç–µ–≥–æ—Ä–∏—è –ü–†–û–¶–ï–î–£–†–´ -->
              <div class="tree-category" data-category="procedures">
                <div class="tree-node level-1" style="display: flex; align-items: center; padding: 0.5rem 0; border-radius: 6px; cursor: pointer; user-select: none;" onclick="toggleTreeNode(this)">
                  <i class="fas fa-chevron-right" style="width: 20px; font-size: 0.8rem; color: #6c757d; transition: transform 0.2s; margin-right: 0.5rem;"></i>
                  <i class="fas fa-folder" style="color: #f39c12; margin-right: 0.75rem; width: 18px;"></i>
                  <span style="flex: 1; font-weight: 500;">–ü—Ä–æ—Ü–µ–¥—É—Ä—ã</span>
                  <span class="category-badge" style="background: #e9ecef; padding: 0.15rem 0.6rem; border-radius: 20px; font-size: 0.7rem; color: #495057;">8</span>
                </div>
                
                <!-- –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—É—Ä–æ–≤–µ–Ω—å 2) -->
                <div class="tree-children" style="margin-left: 1.5rem; display: none;">
                  <div class="tree-node level-2" style="display: flex; align-items: center; padding: 0.4rem 0; border-radius: 6px; cursor: pointer;" onclick="event.stopPropagation(); openCategoryArticles('procedures-standards')">
                    <i class="fas fa-file-alt" style="color: #3498db; margin-right: 0.75rem; width: 18px; font-size: 0.9rem;"></i>
                    <span style="flex: 1;">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã</span>
                    <span class="category-badge" style="background: #e9ecef; padding: 0.15rem 0.6rem; border-radius: 20px; font-size: 0.7rem;">5</span>
                  </div>
                  <div class="tree-node level-2" style="display: flex; align-items: center; padding: 0.4rem 0; border-radius: 6px; cursor: pointer;" onclick="event.stopPropagation(); openCategoryArticles('procedures-checklists')">
                    <i class="fas fa-check-square" style="color: #27ae60; margin-right: 0.75rem; width: 18px; font-size: 0.9rem;"></i>
                    <span style="flex: 1;">–ß–µ–∫-–ª–∏—Å—Ç—ã</span>
                    <span class="category-badge" style="background: #e9ecef; padding: 0.15rem 0.6rem; border-radius: 20px; font-size: 0.7rem;">3</span>
                  </div>
                </div>
              </div>
              
              <!-- –£–†–û–í–ï–ù–¨ 1: –ö–∞—Ç–µ–≥–æ—Ä–∏—è –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ë–ê–ó–ê -->
              <div class="tree-category" data-category="technical">
                <div class="tree-node level-1" style="display: flex; align-items: center; padding: 0.5rem 0; border-radius: 6px; cursor: pointer; user-select: none;" onclick="toggleTreeNode(this)">
                  <i class="fas fa-chevron-right" style="width: 20px; font-size: 0.8rem; color: #6c757d; transition: transform 0.2s; margin-right: 0.5rem;"></i>
                  <i class="fas fa-folder" style="color: #f39c12; margin-right: 0.75rem; width: 18px;"></i>
                  <span style="flex: 1; font-weight: 500;">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞</span>
                  <span class="category-badge" style="background: #e9ecef; padding: 0.15rem 0.6rem; border-radius: 20px; font-size: 0.7rem;">12</span>
                </div>
                
                <!-- –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <div class="tree-children" style="margin-left: 1.5rem; display: none;">
                  <div class="tree-node level-2" style="display: flex; align-items: center; padding: 0.4rem 0;" onclick="event.stopPropagation(); openCategoryArticles('tech-architecture')">
                    <i class="fas fa-cubes" style="color: #9b59b6; margin-right: 0.75rem; width: 18px;"></i>
                    <span style="flex: 1;">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</span>
                    <span class="category-badge">4</span>
                  </div>
                  <div class="tree-node level-2" style="display: flex; align-items: center; padding: 0.4rem 0;" onclick="event.stopPropagation(); openCategoryArticles('tech-databases')">
                    <i class="fas fa-database" style="color: #e67e22; margin-right: 0.75rem; width: 18px;"></i>
                    <span style="flex: 1;">–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</span>
                    <span class="category-badge">3</span>
                  </div>
                  <div class="tree-node level-2" style="display: flex; align-items: center; padding: 0.4rem 0;" onclick="event.stopPropagation(); openCategoryArticles('tech-devops')">
                    <i class="fas fa-cloud" style="color: #3498db; margin-right: 0.75rem; width: 18px;"></i>
                    <span style="flex: 1;">DevOps</span>
                    <span class="category-badge">3</span>
                  </div>
                  <div class="tree-node level-2" style="display: flex; align-items: center; padding: 0.4rem 0;" onclick="event.stopPropagation(); openCategoryArticles('tech-languages')">
                    <i class="fas fa-code" style="color: #2c3e50; margin-right: 0.75rem; width: 18px;"></i>
                    <span style="flex: 1;">–Ø–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</span>
                    <span class="category-badge">2</span>
                  </div>
                </div>
              </div>
              
              <!-- –£–†–û–í–ï–ù–¨ 1: –ö–∞—Ç–µ–≥–æ—Ä–∏—è –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø -->
              <div class="tree-category" data-category="docs">
                <div class="tree-node level-1" style="display: flex; align-items: center; padding: 0.5rem 0; border-radius: 6px; cursor: pointer; user-select: none;" onclick="toggleTreeNode(this)">
                  <i class="fas fa-chevron-right" style="width: 20px; font-size: 0.8rem; color: #6c757d; transition: transform 0.2s; margin-right: 0.5rem;"></i>
                  <i class="fas fa-folder" style="color: #f39c12; margin-right: 0.75rem; width: 18px;"></i>
                  <span style="flex: 1; font-weight: 500;">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</span>
                  <span class="category-badge" style="background: #e9ecef; padding: 0.15rem 0.6rem; border-radius: 20px; font-size: 0.7rem;">6</span>
                </div>
                
                <!-- –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <div class="tree-children" style="margin-left: 1.5rem; display: none;">
                  <div class="tree-node level-2" style="display: flex; align-items: center; padding: 0.4rem 0;" onclick="event.stopPropagation(); openCategoryArticles('docs-api')">
                    <i class="fas fa-plug" style="color: #e74c3c; margin-right: 0.75rem; width: 18px;"></i>
                    <span style="flex: 1;">API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</span>
                    <span class="category-badge">2</span>
                  </div>
                  <div class="tree-node level-2" style="display: flex; align-items: center; padding: 0.4rem 0;" onclick="event.stopPropagation(); openCategoryArticles('docs-user')">
                    <i class="fas fa-user" style="color: #27ae60; margin-right: 0.75rem; width: 18px;"></i>
                    <span style="flex: 1;">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è</span>
                    <span class="category-badge">2</span>
                  </div>
                  <div class="tree-node level-2" style="display: flex; align-items: center; padding: 0.4rem 0;" onclick="event.stopPropagation(); openCategoryArticles('docs-tech')">
                    <i class="fas fa-cog" style="color: #7f8c8d; margin-right: 0.75rem; width: 18px;"></i>
                    <span style="flex: 1;">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è</span>
                    <span class="category-badge">2</span>
                  </div>
                </div>
              </div>
              
              <!-- –£–†–û–í–ï–ù–¨ 1: –ö–∞—Ç–µ–≥–æ—Ä–∏—è –í–ù–£–¢–†–ï–ù–ù–ò–ï –ü–û–õ–ò–¢–ò–ö–ò -->
              <div class="tree-category" data-category="policies">
                <div class="tree-node level-1" style="display: flex; align-items: center; padding: 0.5rem 0; border-radius: 6px; cursor: pointer; user-select: none;" onclick="toggleTreeNode(this)">
                  <i class="fas fa-chevron-right" style="width: 20px; font-size: 0.8rem; color: #6c757d; transition: transform 0.2s; margin-right: 0.5rem;"></i>
                  <i class="fas fa-folder" style="color: #f39c12; margin-right: 0.75rem; width: 18px;"></i>
                  <span style="flex: 1; font-weight: 500;">–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏</span>
                  <span class="category-badge" style="background: #e9ecef; padding: 0.15rem 0.6rem; border-radius: 20px; font-size: 0.7rem;">4</span>
                </div>
                
                <!-- –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <div class="tree-children" style="margin-left: 1.5rem; display: none;">
                  <div class="tree-node level-2" style="display: flex; align-items: center; padding: 0.4rem 0;" onclick="event.stopPropagation(); openCategoryArticles('policies-security')">
                    <i class="fas fa-shield-alt" style="color: #3498db; margin-right: 0.75rem; width: 18px;"></i>
                    <span style="flex: 1;">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</span>
                    <span class="category-badge">2</span>
                  </div>
                  <div class="tree-node level-2" style="display: flex; align-items: center; padding: 0.4rem 0;" onclick="event.stopPropagation(); openCategoryArticles('policies-hr')">
                    <i class="fas fa-users" style="color: #e67e22; margin-right: 0.75rem; width: 18px;"></i>
                    <span style="flex: 1;">HR –ø–æ–ª–∏—Ç–∏–∫–∏</span>
                    <span class="category-badge">1</span>
                  </div>
                  <div class="tree-node level-2" style="display: flex; align-items: center; padding: 0.4rem 0;" onclick="event.stopPropagation(); openCategoryArticles('policies-ethics')">
                    <i class="fas fa-gavel" style="color: #27ae60; margin-right: 0.75rem; width: 18px;"></i>
                    <span style="flex: 1;">–≠—Ç–∏–∫–∞</span>
                    <span class="category-badge">1</span>
                  </div>
                </div>
              </div>
              
              <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ) -->
              <div class="tree-category" data-category="faq">
                <div class="tree-node level-1" style="display: flex; align-items: center; padding: 0.5rem 0;" onclick="openCategoryArticles('faq')">
                  <i class="fas fa-question-circle" style="color: #3498db; margin-right: 0.75rem; width: 18px;"></i>
                  <span style="flex: 1; font-weight: 500;">–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</span>
                  <span class="category-badge" style="background: #e9ecef; padding: 0.15rem 0.6rem; border-radius: 20px; font-size: 0.7rem;">9</span>
                </div>
              </div>
            </div>
            
            <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ —Å–∞–π–¥–±–∞—Ä–µ -->
            <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #f0f0f0;">
              <button class="btn btn-primary" style="width: 100%; justify-content: center;" id="new-category-btn">
                <i class="fas fa-plus-circle"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
              </button>
            </div>
          </aside>
          
          <!-- –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê: –ö–û–ù–¢–ï–ù–¢ (—Å—Ç–∞—Ç—å–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏) -->
          <main class="knowledge-content" style="flex: 1; min-width: 0;">
            
            <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1.5rem; font-size: 0.9rem; color: #6c757d; flex-wrap: wrap;">
              <a href="knowledge-home.html" style="color: #3498db;">
                <i class="fas fa-home" style="margin-right: 0.25rem;"></i>–ì–ª–∞–≤–Ω–∞—è –∑–Ω–∞–Ω–∏–π
              </a>
              <i class="fas fa-chevron-right" style="font-size: 0.7rem;"></i>
              <a href="knowledge-base.html" style="color: #3498db;">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
              <i class="fas fa-chevron-right" style="font-size: 0.7rem;"></i>
              <span>–û—Ç–¥–µ–ª: <strong id="current-dept-breadcrumb">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</strong></span>
              <i class="fas fa-chevron-right" style="font-size: 0.7rem;"></i>
              <span id="current-category-breadcrumb" style="color: #2c3e50; font-weight: 500;">–í—Å–µ —Å—Ç–∞—Ç—å–∏</span>
              
              <!-- –ö–Ω–æ–ø–∫–∞ –±—ã—Å—Ç—Ä–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ -->
              <a href="knowledge-home.html" class="btn btn-secondary btn-sm" style="margin-left: auto;" title="–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é –∑–Ω–∞–Ω–∏–π">
                <i class="fas fa-arrow-left"></i> –ù–∞ –≥–ª–∞–≤–Ω—É—é
              </a>
            </div>
            
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞ —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –≤–∏–¥–∞ -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
              <div>
                <h2 id="content-category-title" style="font-size: 1.5rem; color: #2c3e50; margin: 0;">–í—Å–µ —Å—Ç–∞—Ç—å–∏</h2>
                <p id="content-category-desc" style="color: #6c757d; margin: 0.25rem 0 0 0;">–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –æ—Ç–¥–µ–ª–∞ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</p>
              </div>
              
              <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –≤–∏–¥–∞ (–ø–ª–∏—Ç–∫–∞/—Å–ø–∏—Å–æ–∫/–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π) -->
              <div style="display: flex; gap: 0.5rem; background: #f8f9fa; padding: 0.25rem; border-radius: 8px;">
                <button class="view-toggle-btn active" data-view="grid" style="padding: 0.5rem 1rem; border: none; background: white; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); cursor: pointer;" title="–°–µ—Ç–∫–∞">
                  <i class="fas fa-th-large"></i>
                </button>
                <button class="view-toggle-btn" data-view="list" style="padding: 0.5rem 1rem; border: none; background: transparent; border-radius: 6px; cursor: pointer;" title="–°–ø–∏—Å–æ–∫">
                  <i class="fas fa-list"></i>
                </button>
                <button class="view-toggle-btn" data-view="compact" style="padding: 0.5rem 1rem; border: none; background: transparent; border-radius: 6px; cursor: pointer;" title="–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π">
                  <i class="fas fa-align-justify"></i>
                </button>
              </div>
            </div>
            
            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å—Ç–∞—Ç–µ–π —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –≤–∏–¥–∞ -->
            <div id="articles-container" class="articles-grid" style="grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));">
              <!-- –°—é–¥–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å—Ç–∞—Ç—å–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é -->
              
              <!-- –°—Ç–∞—Ç—å—è 1 -->
              <div class="article-card" onclick="openArticle('article1')">
                <div class="article-header">
                  <div>
                    <div class="article-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è</div>
                    <div class="article-meta">
                      <span><i class="far fa-user"></i> –§—ë–¥–æ—Ä–æ–≤ –ü.–ê.</span>
                    </div>
                  </div>
                  <div class="article-views"><i class="far fa-eye"></i> 456</div>
                </div>
                <div class="article-excerpt">
                  –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å IDE, –ø–ª–∞–≥–∏–Ω—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã.
                </div>
                <div class="article-footer">
                  <div class="article-tags">
                    <span class="tag">–Ω–∞—Å—Ç—Ä–æ–π–∫–∞</span>
                    <span class="tag">–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</span>
                  </div>
                </div>
              </div>
              
              <!-- –°—Ç–∞—Ç—å—è 2 -->
              <div class="article-card" onclick="openArticle('article2')">
                <div class="article-header">
                  <div>
                    <div class="article-title">Code review: —á–µ–∫-–ª–∏—Å—Ç</div>
                    <div class="article-meta">
                      <span><i class="far fa-user"></i> –í–∞—Å–∏–ª—å–µ–≤ –ö.–ò.</span>
                    </div>
                  </div>
                  <div class="article-views"><i class="far fa-eye"></i> 389</div>
                </div>
                <div class="article-excerpt">
                  –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∏ code review –∏ –∫–∞–∫ –æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.
                </div>
                <div class="article-footer">
                  <div class="article-tags">
                    <span class="tag">code review</span>
                    <span class="tag">–ø—Ä–æ—Ü–µ—Å—Å—ã</span>
                  </div>
                </div>
              </div>
              
              <!-- –°—Ç–∞—Ç—å—è 3 -->
              <div class="article-card" onclick="openArticle('article3')">
                <div class="article-header">
                  <div>
                    <div class="article-title">–®–∞–±–ª–æ–Ω —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</div>
                    <div class="article-meta">
                      <span><i class="far fa-user"></i> –ù–æ–≤–∏–∫–æ–≤–∞ –û.–õ.</span>
                    </div>
                  </div>
                  <div class="article-views"><i class="far fa-eye"></i> 267</div>
                </div>
                <div class="article-excerpt">
                  –ì–æ—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö.
                </div>
                <div class="article-footer">
                  <div class="article-tags">
                    <span class="tag">–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</span>
                    <span class="tag">—à–∞–±–ª–æ–Ω</span>
                  </div>
                </div>
              </div>
              
              <!-- –°—Ç–∞—Ç—å—è 4 -->
              <div class="article-card" onclick="openArticle('article4')">
                <div class="article-header">
                  <div>
                    <div class="article-title">Git workflow</div>
                    <div class="article-meta">
                      <span><i class="far fa-user"></i> –°–æ–∫–æ–ª–æ–≤ –î.–í.</span>
                    </div>
                  </div>
                  <div class="article-views"><i class="far fa-eye"></i> 189</div>
                </div>
                <div class="article-excerpt">
                  –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–±–æ—Ç—ã —Å Git: –≤–µ—Ç–∫–∏, –∫–æ–º–º–∏—Ç—ã, –º–µ—Ä–∂-—Ä–µ–∫–≤–µ—Å—Ç—ã.
                </div>
                <div class="article-footer">
                  <div class="article-tags">
                    <span class="tag">git</span>
                    <span class="tag">–ø—Ä–æ—Ü–µ—Å—Å—ã</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
            <div style="display: flex; justify-content: center; gap: 0.5rem; margin-top: 2rem;">
              <button class="btn btn-secondary btn-sm" disabled><i class="fas fa-chevron-left"></i></button>
              <button class="btn btn-primary btn-sm" style="background: #3498db; color: white;">1</button>
              <button class="btn btn-secondary btn-sm">2</button>
              <button class="btn btn-secondary btn-sm">3</button>
              <button class="btn btn-secondary btn-sm">4</button>
              <button class="btn btn-secondary btn-sm">5</button>
              <button class="btn btn-secondary btn-sm"><i class="fas fa-chevron-right"></i></button>
            </div>
          </main>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç—å–∏ -->
<div class="modal" id="article-modal">
  <div class="modal-content">
    <div class="modal-header">
      <div class="modal-title" id="modal-article-title">–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞—è–≤–æ–∫</div>
      <button class="modal-close">&times;</button>
    </div>
    <div class="modal-body">
      <div class="article-content" id="modal-article-content">
        <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç–∞—Ç—å–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ -->
        <p>–ü–æ–ª–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∑–¥–µ—Å—å...</p>
      </div>
    </div>
    <div class="modal-footer">
      <div class="article-info" id="modal-article-info">
        <span><i class="far fa-user"></i> –ê–≤—Ç–æ—Ä: –ü–µ—Ç—Ä–æ–≤ –ê.–í.</span>
        <span><i class="far fa-calendar"></i> –°–æ–∑–¥–∞–Ω–æ: 15.09.2025</span>
        <span><i class="far fa-edit"></i> –ò–∑–º–µ–Ω–µ–Ω–æ: 18.09.2025</span>
      </div>
      <div>
        <button class="btn btn-secondary edit-article-btn"><i class="far fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
        <button class="btn btn-primary"><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π</button>
      </div>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Å—Ç–∞—Ç—å–∏ -->
<div class="modal" id="editor-modal">
  <div class="modal-content">
    <div class="modal-header">
      <div class="modal-title">–†–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç–∞—Ç—å–∏</div>
      <button class="modal-close">&times;</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label for="article-title">–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏</label>
        <input type="text" id="article-title">
      </div>

      <div class="form-group">
        <label for="article-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
        <select id="article-category">
          <option>–ü—Ä–æ—Ü–µ–¥—É—Ä—ã</option>
          <option>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞</option>
          <option>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</option>
          <option>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏</option>
          <option>–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</option>
        </select>
      </div>

      <div class="form-group">
        <label for="article-tags">–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
        <input type="text" id="article-tags">
      </div>

      <div class="form-group">
        <label for="article-status">–°—Ç–∞—Ç—É—Å</label>
        <select id="article-status">
          <option>–ß–µ—Ä–Ω–æ–≤–∏–∫</option>
          <option>–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ</option>
          <option>–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ</option>
        </select>
      </div>

      <div class="form-group">
        <label>–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å</label>
        <select id="article-access">
          <option>–ü—É–±–ª–∏—á–Ω–∞—è</option>
          <option>–ü—Ä–∏–≤–∞—Ç–Ω–∞—è</option>
        </select>
        <div id="private-groups" style="display:none; margin-top:10px;">
          <label>–ì—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤—ã–±–µ—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ):</label>
          <select multiple id="article-groups">
            <option>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã</option>
            <option>–ú–µ–Ω–µ–¥–∂–µ—Ä—ã</option>
            <option>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</option>
            <option>–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label>
          <input type="checkbox" id="enable-notifications"> 
          –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—å–∏
        </label>
        <div id="notification-options" style="display:none; margin-top:10px;">
          <label>–ö–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:</label><br>
          <label><input type="checkbox" value="dashboard"> –î–∞—à–±–æ—Ä–¥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</label><br>
          <label><input type="checkbox" value="bell"> –°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</label><br>
          <label><input type="checkbox" value="email"> Email-—Ä–∞—Å—Å—ã–ª–∫–∞</label><br>
          <label><input type="checkbox" value="messenger"> –ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä (–±–æ—Ç)</label>
        </div>
      </div>

      <div class="form-group" id="glossary-admin-section">
        <label>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–ª–æ—Å—Å–∞—Ä–∏—è (JSON)</label>
        <textarea id="glossary-json" rows="10"></textarea>
        <button class="btn btn-primary" id="save-glossary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–ª–æ—Å—Å–∞—Ä–∏—è</button>
      </div>

      <div class="editor-container">
        <div class="editor-toolbar">
          <button title="–ñ–∏—Ä–Ω—ã–π"><i class="fas fa-bold"></i></button>
          <button title="–ö—É—Ä—Å–∏–≤"><i class="fas fa-italic"></i></button>
          <button title="–ü–æ–¥—á—ë—Ä–∫–Ω—É—Ç—ã–π"><i class="fas fa-underline"></i></button>
          <button title="–°–ø–∏—Å–æ–∫"><i class="fas fa-list-ul"></i></button>
          <button title="–ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫"><i class="fas fa-list-ol"></i></button>
          <button title="–°—Å—ã–ª–∫–∞"><i class="fas fa-link"></i></button>
          <button title="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"><i class="fas fa-image"></i></button>
        </div>
        <div class="editor-area">
          <textarea id="article-content"></textarea>
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <button class="btn btn-secondary"><i class="fas fa-times"></i> –û—Ç–º–µ–Ω–∏—Ç—å</button>
      <button class="btn btn-secondary" id="save-draft"><i class="far fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫</button>
      <button class="btn btn-primary" id="publish-article"><i class="fas fa-check"></i> –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
    </div>
  </div>
</div>

<script src="assets/js/glossary.js"></script>
<script src="assets/js/knowledge.js"></script>
<script>
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã knowledge-base.html
  document.addEventListener('DOMContentLoaded', () => {
    // –≠–ª–µ–º–µ–Ω—Ç—ã
    const sidebar = document.getElementById('sidebar');
    const toggleBtn = document.querySelector('.toggle-sidebar-btn');
    const toggleFiltersBtn = document.getElementById('toggle-filters-btn');
    const filtersPanel = document.getElementById('filters-panel');
    const createArticleBtn = document.getElementById('create-article-btn');
    const editorModal = document.getElementById('editor-modal');
    const articleModal = document.getElementById('article-modal');
    const modalCloses = document.querySelectorAll('.modal-close');
    const articleAccessSelect = document.getElementById('article-access');
    const enableNotifications = document.getElementById('enable-notifications');

    // –°–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ —Å–∞–π–¥–±–∞—Ä–∞
    if (toggleBtn) {
      toggleBtn.addEventListener('click', () => {
        sidebar.classList.toggle('collapsed');
        document.querySelector('.main-content').style.marginLeft = sidebar.classList.contains('collapsed') ? '80px' : '240px';
      });
    }

    // –ü–æ–∫–∞–∑/—Å–∫—Ä—ã—Ç–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
    if (toggleFiltersBtn && filtersPanel) {
      toggleFiltersBtn.addEventListener('click', () => {
        filtersPanel.classList.toggle('open');
      });
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–æ–∫
    modalCloses.forEach(btn => {
      btn.addEventListener('click', () => {
        btn.closest('.modal').style.display = 'none';
      });
    });

    window.addEventListener('click', e => {
      if (e.target.classList.contains('modal')) {
        e.target.style.display = 'none';
      }
    });

    // –û—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
    if (createArticleBtn) {
      createArticleBtn.addEventListener('click', () => {
        document.getElementById('article-title').value = '';
        document.getElementById('article-content').value = '';
        document.getElementById('article-tags').value = '';
        document.getElementById('article-access').value = '–ü—É–±–ª–∏—á–Ω–∞—è';
        document.getElementById('private-groups').style.display = 'none';
        document.getElementById('enable-notifications').checked = false;
        document.getElementById('notification-options').style.display = 'none';
        editorModal.style.display = 'flex';
      });
    }

    // –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
    if (articleAccessSelect) {
      articleAccessSelect.addEventListener('change', e => {
        document.getElementById('private-groups').style.display = 
          (e.target.value === '–ü—Ä–∏–≤–∞—Ç–Ω–∞—è') ? 'block' : 'none';
      });
    }

    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    if (enableNotifications) {
      enableNotifications.addEventListener('change', e => {
        document.getElementById('notification-options').style.display = 
          e.target.checked ? 'block' : 'none';
      });
    }

    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
    document.getElementById('save-draft')?.addEventListener('click', () => {
      alert('–ß–µ—Ä–Ω–æ–≤–∏–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω (—Å–∏–º—É–ª—è—Ü–∏—è)');
      editorModal.style.display = 'none';
    });

    document.getElementById('publish-article')?.addEventListener('click', () => {
      alert('–°—Ç–∞—Ç—å—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ (—Å–∏–º—É–ª—è—Ü–∏—è)');
      editorModal.style.display = 'none';
    });

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–¥–µ–ª–æ–≤
    document.querySelectorAll('.dept-switch-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.dept-switch-btn').forEach(b => {
          b.style.background = '#f0f7ff';
          b.style.color = '#3498db';
        });
        this.style.background = '#3498db';
        this.style.color = 'white';
        
        // –û–±–Ω–æ–≤–ª—è–µ–º breadcrumb
        const deptName = this.textContent.trim();
        document.getElementById('current-dept-breadcrumb').textContent = deptName;
        document.getElementById('content-category-desc').textContent = `–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –æ—Ç–¥–µ–ª–∞ ${deptName}`;
      });
    });

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ URL
    const urlParams = new URLSearchParams(window.location.search);
    const articleParam = urlParams.get('article');
    const categoryParam = urlParams.get('category');
    const filterParam = urlParams.get('filter');
    
    if (articleParam) {
      // –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ç–∞—Ç—å—é
      setTimeout(() => {
        openArticle(articleParam);
      }, 300);
    } else if (categoryParam) {
      // –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
      setTimeout(() => {
        const categoryElement = document.querySelector(`[data-category="${categoryParam}"] .tree-node.level-1`);
        if (categoryElement) {
          categoryElement.click();
        }
      }, 300);
    } else if (filterParam === 'pinned') {
      document.getElementById('content-category-title').textContent = '–ó–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏';
    } else if (filterParam === 'recent') {
      document.getElementById('content-category-title').textContent = '–ù–µ–¥–∞–≤–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è';
    } else if (filterParam === 'popular') {
      document.getElementById('content-category-title').textContent = '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å—Ç–∞—Ç—å–∏';
    }
  });

  // –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Ç–∞—Ç—å–∏
  function openArticle(articleId) {
    const modal = document.getElementById('article-modal');
    const titleEl = document.getElementById('modal-article-title');
    const contentEl = document.getElementById('modal-article-content');
    const infoEl = document.getElementById('modal-article-info');
    
    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç–∞—Ç—å–∏
    const articles = {
      'article1': {
        title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è',
        content: '<h2>–í–≤–µ–¥–µ–Ω–∏–µ</h2><p>–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ä–∞–±–æ—á–µ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.</p><h2>–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h2><ul><li>IDE (Visual Studio Code, IntelliJ IDEA)</li><li>Git</li><li>Docker</li><li>Node.js</li></ul><h2>–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h2><p>1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ IDE<br>2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–ª–∞–≥–∏–Ω—ã<br>3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Git<br>4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</p>',
        author: '–§—ë–¥–æ—Ä–æ–≤ –ü.–ê.',
        created: '10.09.2025',
        updated: '15.09.2025'
      },
      'article2': {
        title: 'Code review: —á–µ–∫-–ª–∏—Å—Ç',
        content: '<h2>–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∏ code review</h2><p>–û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—â–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ.</p>',
        author: '–í–∞—Å–∏–ª—å–µ–≤ –ö.–ò.',
        created: '05.09.2025',
        updated: '12.09.2025'
      }
    };
    
    const article = articles[articleId] || {
      title: '–°—Ç–∞—Ç—å—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞',
      content: '<p>–ò–∑–≤–∏–Ω–∏—Ç–µ, –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.</p>',
      author: '–°–∏—Å—Ç–µ–º–∞',
      created: '-',
      updated: '-'
    };
    
    titleEl.textContent = article.title;
    contentEl.innerHTML = article.content;
    infoEl.innerHTML = `
      <span><i class="far fa-user"></i> –ê–≤—Ç–æ—Ä: ${article.author}</span>
      <span><i class="far fa-calendar"></i> –°–æ–∑–¥–∞–Ω–æ: ${article.created}</span>
      <span><i class="far fa-edit"></i> –ò–∑–º–µ–Ω–µ–Ω–æ: ${article.updated}</span>
    `;
    
    modal.style.display = 'flex';
  }

  // –§—É–Ω–∫—Ü–∏—è —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è —É–∑–ª–æ–≤ –¥–µ—Ä–µ–≤–∞
  function toggleTreeNode(element) {
    const categoryDiv = element.closest('.tree-category');
    const childrenDiv = categoryDiv.querySelector('.tree-children');
    const icon = element.querySelector('.fa-chevron-right');
    
    if (childrenDiv) {
      if (childrenDiv.style.display === 'none' || !childrenDiv.style.display) {
        childrenDiv.style.display = 'block';
        if (icon) icon.style.transform = 'rotate(90deg)';
      } else {
        childrenDiv.style.display = 'none';
        if (icon) icon.style.transform = 'rotate(0deg)';
      }
    }
  }

  // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë –¥–µ—Ä–µ–≤–æ
  document.getElementById('expand-all-tree')?.addEventListener('click', function() {
    const allChildren = document.querySelectorAll('.tree-children');
    const allIcons = document.querySelectorAll('.tree-node .fa-chevron-right');
    
    const isExpanding = allChildren[0]?.style.display !== 'block';
    
    allChildren.forEach(child => child.style.display = isExpanding ? 'block' : 'none');
    allIcons.forEach(icon => icon.style.transform = isExpanding ? 'rotate(90deg)' : 'rotate(0deg)');
    
    this.innerHTML = isExpanding ? '<i class="fas fa-compress-alt"></i> –°–≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë' : '<i class="fas fa-expand-alt"></i> –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë';
  });

  // –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Ç–∞—Ç–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  function openCategoryArticles(categoryId) {
    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö —É–∑–ª–æ–≤
    document.querySelectorAll('.tree-node').forEach(node => {
      node.classList.remove('active');
    });
    
    // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —É–∑–µ–ª
    if (event && event.currentTarget) {
      event.currentTarget.classList.add('active');
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    let categoryName = '–í—Å–µ —Å—Ç–∞—Ç—å–∏';
    if (event && event.currentTarget) {
      const nameSpan = event.currentTarget.querySelector('span:not(.category-badge)');
      if (nameSpan) {
        categoryName = nameSpan.textContent.trim();
      }
    }
    
    document.getElementById('content-category-title').textContent = categoryName;
    document.getElementById('current-category-breadcrumb').textContent = categoryName;
    
    // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–µ–π
    const container = document.getElementById('articles-container');
    container.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 3rem; color: #6c757d;"><i class="fas fa-spinner fa-spin"></i> –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–µ–π...</div>';
    
    setTimeout(() => {
      if (categoryId && categoryId.includes('procedures')) {
        container.innerHTML = `
          <div class="article-card" onclick="openArticle('proc1')"><div class="article-header"><div><div class="article-title">–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–æ–∫</div><div class="article-meta"><span><i class="far fa-user"></i> –ü–µ—Ç—Ä–æ–≤ –ê.–í.</span></div></div></div><div class="article-excerpt">–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞—è–≤–æ–∫ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤.</div><div class="article-footer"><div class="article-tags"><span class="tag">–ø—Ä–æ—Ü–µ–¥—É—Ä—ã</span></div></div></div>
          <div class="article-card" onclick="openArticle('proc2')"><div class="article-header"><div><div class="article-title">–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ code review</div><div class="article-meta"><span><i class="far fa-user"></i> –°–∏–¥–æ—Ä–æ–≤ –ò.–ò.</span></div></div></div><div class="article-excerpt">–ö–∞–∫ –ø—Ä–æ–≤–æ–¥–∏—Ç—å code review: –ø—Ä–∞–≤–∏–ª–∞, —á–µ–∫-–ª–∏—Å—Ç—ã –∏ best practices.</div><div class="article-footer"><div class="article-tags"><span class="tag">code review</span></div></div></div>
          <div class="article-card" onclick="openArticle('proc3')"><div class="article-header"><div><div class="article-title">–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞</div><div class="article-meta"><span><i class="far fa-user"></i> –ò–≤–∞–Ω–æ–≤–∞ –ú.–°.</span></div></div></div><div class="article-excerpt">–í–≤–µ–¥–µ–Ω–∏–µ –≤ –¥–æ–ª–∂–Ω–æ—Å—Ç—å –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ç–¥–µ–ª–∞.</div><div class="article-footer"><div class="article-tags"><span class="tag">–æ–Ω–±–æ—Ä–¥–∏–Ω–≥</span></div></div></div>
        `;
      } else {
        container.innerHTML = `
          <div class="article-card" onclick="openArticle('cat1')"><div class="article-header"><div><div class="article-title">–°—Ç–∞—Ç—å–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ${categoryName}</div><div class="article-meta"><span><i class="far fa-user"></i> –°–∏—Å—Ç–µ–º–∞</span></div></div></div><div class="article-excerpt">–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.</div><div class="article-footer"><div class="article-tags"><span class="tag">–¥–µ–º–æ</span></div></div></div>
          <div class="article-card" onclick="openArticle('cat2')"><div class="article-header"><div><div class="article-title">–ü—Ä–∏–º–µ—Ä –≤—Ç–æ—Ä–æ–π —Å—Ç–∞—Ç—å–∏</div><div class="article-meta"><span><i class="far fa-user"></i> –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span></div></div></div><div class="article-excerpt">–û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.</div><div class="article-footer"><div class="article-tags"><span class="tag">–ø—Ä–∏–º–µ—Ä</span></div></div></div>
        `;
      }
      // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π –≤–∏–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
      applyCurrentView();
    }, 500);
  }

  // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∞
  document.querySelectorAll('.view-toggle-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      document.querySelectorAll('.view-toggle-btn').forEach(b => {
        b.classList.remove('active');
        b.style.background = 'transparent';
      });
      this.classList.add('active');
      this.style.background = 'white';
      
      const viewMode = this.dataset.view;
      const container = document.getElementById('articles-container');
      
      container.classList.remove('list-view', 'compact-view');
      
      if (viewMode === 'grid') {
        container.style.gridTemplateColumns = 'repeat(auto-fill, minmax(280px, 1fr))';
      } else if (viewMode === 'list') {
        container.classList.add('list-view');
        container.style.gridTemplateColumns = '1fr';
      } else if (viewMode === 'compact') {
        container.classList.add('compact-view');
        container.style.gridTemplateColumns = '1fr';
      }
      
      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
      localStorage.setItem('knowledgeView', viewMode);
    });
  });

  // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –≤–∏–¥
  function applyCurrentView() {
    const savedView = localStorage.getItem('knowledgeView') || 'grid';
    const activeBtn = document.querySelector(`.view-toggle-btn[data-view="${savedView}"]`);
    if (activeBtn) {
      activeBtn.click();
    }
  }

  // –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
  document.getElementById('category-search')?.addEventListener('input', function(e) {
    const searchTerm = e.target.value.toLowerCase();
    const categories = document.querySelectorAll('.tree-category');
    
    categories.forEach(cat => {
      const catText = cat.textContent.toLowerCase();
      if (catText.includes(searchTerm) || searchTerm === '') {
        cat.style.display = 'block';
        if (searchTerm !== '') {
          const children = cat.querySelector('.tree-children');
          const icon = cat.querySelector('.fa-chevron-right');
          if (children) {
            children.style.display = 'block';
            if (icon) icon.style.transform = 'rotate(90deg)';
          }
        }
      } else {
        cat.style.display = 'none';
      }
    });
  });
</script>
</body>
</html>